<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Projeto IHM</title>
        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        
        <script type="text/javascript" src="js/jquery.js"></script>
        <script src="js/highcharts.js"></script>
		<script src="js/modules/exporting.js"></script>

    <script>
	
		$(function () {
			
			showTimeChart();
			
			$('#grafico-select').change(function() {
				if ($(this).find(':selected').attr('id') == 'tempo')
					showTimeChart();
				else
					showStockingChart();
			});
			
			function showTimeChart() {
			
			$('#container').highcharts({
						chart: {
							type: 'column'
						},
						title: {
							text: 'Tempo médio de espera por veículos da Linha X'
						},
						subtitle: {
							text: 'Intervalo médio entre a chegada de um ônibus e outro no ponto final'
						},
						xAxis: {
							categories: ['6:00-8:00', '8:00-10:00', '10:00-12:00', '12:00-14:00',
								'14:00-16:00', '16:00-18:00', '18:00-20:00', '20:00-22:00', '22:00-24:00']
						},
						yAxis: {
							min: 0,
							max: 40,
							tickInterval: 5,
							title: {
								text: 'Tempo médio de espera (min)'
							}
						},
						tooltip: {
							headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
							pointFormat: '<tr><td style="color:{series.color};padding:0"></td>' +
								'<td style="padding:0"><b>{point.y:.1f} minutos</b></td></tr>',
							footerFormat: '</table>',
							shared: true,
							useHTML: true
						},
						plotOptions: {
							column: {
								pointPadding: 0.2,
								borderWidth: 0
							}
						},
						series: [{
							name: 'Linha X',
							data: [15, 9, 7, 17, 20, 30, 35, 27, 10]
						}]
					});
				
			}
			
			function showStockingChart() {
				
				$('#container').highcharts({
            chart: {
                type: 'area'
            },
            title: {
                text: 'Lotação média em veículos da Linha X'
            },
            subtitle: {
                text: 'Porcentagem média de lotação de passageiros nos veículos a cada 2 horas'
            },
            xAxis: {
                categories: ['6:00-8:00', '8:00-10:00', '10:00-12:00', '12:00-14:00',
								'14:00-16:00', '16:00-18:00', '18:00-20:00', '20:00-22:00', '22:00-24:00'],
				tickmarkPlacement: 'on'
            },
            yAxis: {
				min: 0,
				max: 100,
				tickInterval: 10,
                title: {
                    text: 'Lotação média (% de passageiros)'
                }
            },
            tooltip: {
                pointFormat: 'Média: <b>{point.y:,.0f}</b>%'
            },
            plotOptions: {
                area: {
                    marker: {
                        enabled: false,
                        symbol: 'circle',
                        radius: 4,
                        states: {
                            hover: {
                                enabled: true
                            }
                        }
                    }
                }
            },
            series: [{
                name: 'Linha X',
                data: [ 23 , 40, 34, 55, 68, 66, 98, 71, 12 ]
            }]
        });
				
			}
		});
        
    
	</script>
        
    </head>
    
    <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="administracao.html">TranSoluções</a>
          <div class="nav-collapse collapse">
          <div class="navbar-text pull-right">
              	<a class="white spaced" href="index.html">Sair</a>
            </div>
            <ul class="nav">
              <li><a href="administracao.html">Administração</a></li>
              <li><a href="estatisticas-gerais.html">Estatisticas Gerais</a></li>
            </ul>
          </div><!--end nav-collapse -->
        </div>
      </div>
    </div>
     <div class="container-fluid">
     
     <h1>Estatísticas da Linha X</h1>
     
     <div class="row-fluid">   
  <div class="span12">

<div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>

    <div align="center">
        <form class="form-horizontal" action="#">
            <label for="grafico-select"><strong>Selecione o gráfico:</strong></label>
            <select id="grafico-select" class="input-medium">
                <option id="tempo">Tempo de espera</option>
                <option id="lotacao">Lotação</option>
            </select>
        </form>
    </div>

    <div align="center">
    	<a class="btn btn-inverse" href="administracao.html">Voltar</a>
    </div>
    
  </div><!--end span-->
</div><!--end row--> 
     
     </div>
    </body>
    
</html>
